"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cognitoSignup = cognitoSignup;
const client_cognito_identity_provider_1 = require("@aws-sdk/client-cognito-identity-provider");
async function cognitoSignup(user, pass, passConfirm, config) {
    if (pass !== passConfirm) {
        throw new Error("Passwords did not match");
    }
    const cognito = new client_cognito_identity_provider_1.CognitoIdentityProviderClient({
        region: config.awsRegion,
    });
    const createUserCommand = new client_cognito_identity_provider_1.SignUpCommand({
        ClientId: config.userPoolClientId,
        Username: user,
        Password: pass,
    });
    const { Session } = await cognito.send(createUserCommand);
    return Session;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29nbml0by1zaWduLXVwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjdGlvbnMvY29nbml0by1zaWduLXVwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUEsc0NBc0JDO0FBNUJELGdHQUdtRDtBQUc1QyxLQUFLLFVBQVUsYUFBYSxDQUNqQyxJQUFZLEVBQ1osSUFBWSxFQUNaLFdBQW1CLEVBQ25CLE1BQWM7SUFFZCxJQUFJLElBQUksS0FBSyxXQUFXLEVBQUUsQ0FBQztRQUN6QixNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELE1BQU0sT0FBTyxHQUFHLElBQUksZ0VBQTZCLENBQUM7UUFDaEQsTUFBTSxFQUFFLE1BQU0sQ0FBQyxTQUFTO0tBQ3pCLENBQUMsQ0FBQztJQUVILE1BQU0saUJBQWlCLEdBQUcsSUFBSSxnREFBYSxDQUFDO1FBQzFDLFFBQVEsRUFBRSxNQUFNLENBQUMsZ0JBQWdCO1FBQ2pDLFFBQVEsRUFBRSxJQUFJO1FBQ2QsUUFBUSxFQUFFLElBQUk7S0FDZixDQUFDLENBQUM7SUFFSCxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsTUFBTSxPQUFPLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDMUQsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvZ25pdG9JZGVudGl0eVByb3ZpZGVyQ2xpZW50LFxuICBTaWduVXBDb21tYW5kLFxufSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNvZ25pdG8taWRlbnRpdHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29nbml0b1NpZ251cChcbiAgdXNlcjogc3RyaW5nLFxuICBwYXNzOiBzdHJpbmcsXG4gIHBhc3NDb25maXJtOiBzdHJpbmcsXG4gIGNvbmZpZzogQ29uZmlnLFxuKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgaWYgKHBhc3MgIT09IHBhc3NDb25maXJtKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGFzc3dvcmRzIGRpZCBub3QgbWF0Y2hcIik7XG4gIH1cblxuICBjb25zdCBjb2duaXRvID0gbmV3IENvZ25pdG9JZGVudGl0eVByb3ZpZGVyQ2xpZW50KHtcbiAgICByZWdpb246IGNvbmZpZy5hd3NSZWdpb24sXG4gIH0pO1xuXG4gIGNvbnN0IGNyZWF0ZVVzZXJDb21tYW5kID0gbmV3IFNpZ25VcENvbW1hbmQoe1xuICAgIENsaWVudElkOiBjb25maWcudXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VybmFtZTogdXNlcixcbiAgICBQYXNzd29yZDogcGFzcyxcbiAgfSk7XG5cbiAgY29uc3QgeyBTZXNzaW9uIH0gPSBhd2FpdCBjb2duaXRvLnNlbmQoY3JlYXRlVXNlckNvbW1hbmQpO1xuICByZXR1cm4gU2Vzc2lvbjtcbn1cbiJdfQ==