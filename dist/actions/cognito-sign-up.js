"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cognitoSignup = cognitoSignup;
const client_cognito_identity_provider_1 = require("@aws-sdk/client-cognito-identity-provider");
async function cognitoSignup(user, pass, passConfirm, config) {
    if (pass !== passConfirm) {
        throw new Error("Passwords did not match");
    }
    const cognito = new client_cognito_identity_provider_1.CognitoIdentityProviderClient({
        region: config.awsRegion,
    });
    const createUserCommand = new client_cognito_identity_provider_1.SignUpCommand({
        ClientId: config.userPoolClientId,
        Username: user,
        Password: pass,
    });
    await cognito.send(createUserCommand);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29nbml0by1zaWduLXVwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FjdGlvbnMvY29nbml0by1zaWduLXVwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUEsc0NBcUJDO0FBM0JELGdHQUdtRDtBQUc1QyxLQUFLLFVBQVUsYUFBYSxDQUNqQyxJQUFZLEVBQ1osSUFBWSxFQUNaLFdBQW1CLEVBQ25CLE1BQWM7SUFFZCxJQUFJLElBQUksS0FBSyxXQUFXLEVBQUUsQ0FBQztRQUN6QixNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELE1BQU0sT0FBTyxHQUFHLElBQUksZ0VBQTZCLENBQUM7UUFDaEQsTUFBTSxFQUFFLE1BQU0sQ0FBQyxTQUFTO0tBQ3pCLENBQUMsQ0FBQztJQUVILE1BQU0saUJBQWlCLEdBQUcsSUFBSSxnREFBYSxDQUFDO1FBQzFDLFFBQVEsRUFBRSxNQUFNLENBQUMsZ0JBQWdCO1FBQ2pDLFFBQVEsRUFBRSxJQUFJO1FBQ2QsUUFBUSxFQUFFLElBQUk7S0FDZixDQUFDLENBQUM7SUFFSCxNQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN4QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29nbml0b0lkZW50aXR5UHJvdmlkZXJDbGllbnQsXG4gIFNpZ25VcENvbW1hbmQsXG59IGZyb20gXCJAYXdzLXNkay9jbGllbnQtY29nbml0by1pZGVudGl0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb2duaXRvU2lnbnVwKFxuICB1c2VyOiBzdHJpbmcsXG4gIHBhc3M6IHN0cmluZyxcbiAgcGFzc0NvbmZpcm06IHN0cmluZyxcbiAgY29uZmlnOiBDb25maWcsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHBhc3MgIT09IHBhc3NDb25maXJtKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGFzc3dvcmRzIGRpZCBub3QgbWF0Y2hcIik7XG4gIH1cblxuICBjb25zdCBjb2duaXRvID0gbmV3IENvZ25pdG9JZGVudGl0eVByb3ZpZGVyQ2xpZW50KHtcbiAgICByZWdpb246IGNvbmZpZy5hd3NSZWdpb24sXG4gIH0pO1xuXG4gIGNvbnN0IGNyZWF0ZVVzZXJDb21tYW5kID0gbmV3IFNpZ25VcENvbW1hbmQoe1xuICAgIENsaWVudElkOiBjb25maWcudXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VybmFtZTogdXNlcixcbiAgICBQYXNzd29yZDogcGFzcyxcbiAgfSk7XG5cbiAgYXdhaXQgY29nbml0by5zZW5kKGNyZWF0ZVVzZXJDb21tYW5kKTtcbn1cbiJdfQ==